<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="457px" preserveAspectRatio="none" style="width:398px;height:457px;" version="1.1" viewBox="0 0 398 457" width="398px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="435.2344" style="stroke: #A80036; stroke-width: 1.0;" width="187" x="19" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="43.5" y="16.0669">Customer Network</text><rect fill="#DDDDDD" height="435.2344" style="stroke: #A80036; stroke-width: 1.0;" width="148" x="233" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="278" y="16.0669">Internet</text><rect fill="#FFFFFF" height="273.8672" style="stroke: #000000; stroke-width: 2.0;" width="374" x="13" y="154.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41" x2="41" y1="54.4297" y2="106.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="41" x2="41" y1="106.5625" y2="147.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41" x2="41" y1="147.3672" y2="387.4297"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="41" x2="41" y1="387.4297" y2="428.2344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41" x2="41" y1="428.2344" y2="445.2344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="139" x2="139" y1="54.4297" y2="106.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="139" x2="139" y1="106.5625" y2="147.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="139" x2="139" y1="147.3672" y2="387.4297"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="139" x2="139" y1="387.4297" y2="428.2344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="139" x2="139" y1="428.2344" y2="445.2344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="307" x2="307" y1="54.4297" y2="106.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="307" x2="307" y1="106.5625" y2="147.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="307" x2="307" y1="147.3672" y2="387.4297"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="307" x2="307" y1="387.4297" y2="428.2344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="307" x2="307" y1="428.2344" y2="445.2344"/><rect fill="#FEFECE" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="36" x="23" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="22" x="30" y="43.1279">HIS</text><rect fill="#FEFECE" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="76" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="83" y="43.1279">PRODOCTOROV</text><rect fill="#FEFECE" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="237" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="244" y="43.1279">api.prodoctorov.ru</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="139" x2="181" y1="85.5625" y2="85.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="181" x2="181" y1="85.5625" y2="98.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="140" x2="181" y1="98.5625" y2="98.5625"/><polygon fill="#A80036" points="150,94.5625,140,98.5625,150,102.5625,146,98.5625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="146" y="80.4966">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="159" y="80.4966">Start first timer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="107.5" y="130.7729">always 5 seconds delay</text><path d="M13,154.3672 L90,154.3672 L90,161.3672 L80,171.3672 L13,171.3672 L13,154.3672 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="273.8672" style="stroke: #000000; stroke-width: 2.0;" width="374" x="13" y="154.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="28" y="167.4341">loop</text><polygon fill="#A80036" points="52,188.6328,42,192.6328,52,196.6328,48,192.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="46" x2="138" y1="192.6328" y2="192.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="58" y="187.5669">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="71" y="187.5669">HTTP GET</text><polygon fill="#A80036" points="127,217.7656,137,221.7656,127,225.7656,131,221.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="41" x2="133" y1="221.7656" y2="221.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="48" y="216.6997">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="61" y="216.6997">CSV file</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="139" x2="181" y1="266.0313" y2="266.0313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="181" x2="181" y1="266.0313" y2="279.0313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="140" x2="181" y1="279.0313" y2="279.0313"/><polygon fill="#A80036" points="150,275.0313,140,279.0313,150,283.0313,146,279.0313" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="146" y="253.3989">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="159" y="245.8325">Schedule</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="159" y="260.9653">transformation</text><polygon fill="#A80036" points="295,304.1641,305,308.1641,295,312.1641,299,308.1641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="139" x2="301" y1="308.1641" y2="308.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="146" y="303.0981">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="159" y="303.0981">HTTP POST schedule</text><polygon fill="#A80036" points="150,333.2969,140,337.2969,150,341.2969,146,337.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="144" x2="306" y1="337.2969" y2="337.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="156" y="332.231">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="169" y="332.231">HTTP 204</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="139" x2="181" y1="366.4297" y2="366.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="181" x2="181" y1="366.4297" y2="379.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="140" x2="181" y1="379.4297" y2="379.4297"/><polygon fill="#A80036" points="150,375.4297,140,379.4297,150,383.4297,146,379.4297" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="146" y="361.3638">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="159" y="361.3638">Start next timer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="131.5" y="411.6401">wait timer fires</text><!--MD5=[63d2a9ba2df79d0a26dd376bcfee0a62]
@startuml
skinparamlocked shadowing false

hide footbox
autonumber

box "Customer Network"
  participant HIS
  participant PRODOCTOROV as SRV
end box

box "Internet"
  participant api.prodoctorov.ru as WEB
end box

SRV -> SRV : Start first timer
... always 5 seconds delay ...

loop

SRV -> HIS : HTTP GET
SRV <- - HIS : CSV file

SRV -> SRV : Schedule\ntransformation

SRV -> WEB : HTTP POST schedule
SRV <- - WEB : HTTP 204

SRV -> SRV : Start next timer

... wait timer fires ...
end

@enduml

PlantUML version 1.2020.11(Sat May 30 13:13:43 MSK 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>